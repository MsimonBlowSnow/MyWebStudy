<!DOCTYPE html>  
<html>  
<head>  
<meta charset="utf-8" />  
<title>CMS大学利用html5获取经纬度</title>  
</head>  
  
<body>  
<span id="support">将下面的经纬度输入谷歌地图：</span>  
<div id="show">  
纬度：<span id="latitude"></span><br />  
经度：<span id="longitude"></span><br />  
准确度：<span id="accuracy"></span>  
</div>  
<script type="text/javascript">  
var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};

function success(pos) {
  var crd = pos.coords;
  console.log('Your current position is:');
  console.log('Latitude : ' + crd.latitude);
  console.log('Longitude: ' + crd.longitude);
  console.log('More or less ' + crd.accuracy + ' meters.');
};

function error(err) {
  console.log('ERROR(' + err.code + '): ' + err.message);
};

var doc = document,  
    latitude = doc.getElementById('latitude'),  
    longitude = doc.getElementById('longitude'),  
    accuracy = doc.getElementById('accuracy'),  
    support = doc.getElementById('support'),  
    showDiv = doc.getElementById('show');  
function lodeSupport(){  
    if(navigator.geolocation){  
        support.innerHTML = '将下面的经纬度输入谷歌地图(纬度 经度)查看自己位置：';  
        showDiv.style.display = 'block';  
        navigator.geolocation.getCurrentPosition(success,error,options);  
    }else{  
        support.innerHTML = '对不起，浏览器不支持！';  
        showDiv.style.display = 'none';  
    }   
}  
/*
function updataPosition(position){  
    var latitudeP = position.coords.latitude,
            longitudeP = position.coords.longitude,  
            accuracyP = position.coords.accuracy;  
            latitude.innerHTML = latitudeP;  
            longitude.innerHTML = longitudeP;  
            accuracy.innerHTML = accuracyP;  
}   */
window.addEventListener('load', lodeSupport , true);  
</script>  
</body>  
</html>  